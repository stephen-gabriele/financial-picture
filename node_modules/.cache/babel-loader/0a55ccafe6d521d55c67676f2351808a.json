{"ast":null,"code":"import _defineProperty from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import Button from'../../atoms/Button';import Subtitle from'../../atoms/Subtitle';import{AppContext}from'../../../contexts/AppContext';import{useNavigate}from'react-router-dom';import{ModalContext}from'../../../contexts/ModalContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogInModalContent=function LogInModalContent(){var navigate=useNavigate();var _useContext=useContext(ModalContext),closeModal=_useContext.closeModal;var _useContext2=useContext(AppContext),globalState=_useContext2.globalState,dispatch=_useContext2.dispatch;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];function handleChange(event){setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},event.target.name,event.target.value));});}function handleKeyDown(event){if(event.code==='Enter'||event.code==='NumpadEnter'){event.preventDefault();submit();}}var submit=function submit(){dispatch({type:'LOG_IN',email:formData.email,password:formData.password});};useEffect(function(){if(globalState.loginToken){closeModal();navigate('/dashboard');}},[globalState.loginToken]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-72 h-80 flex flex-col pt-6\",children:[/*#__PURE__*/_jsx(Subtitle,{children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onKeyDown:handleKeyDown,className:\"flex flex-col mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \\n          \".concat(!globalState.auth.failMessage?'border-white':'border-rose-600'),type:\"email\",placeholder:\"Email Address\",onChange:handleChange,name:\"email\",value:formData.email}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \\n          \".concat(!globalState.auth.failMessage?'border-white':'border-rose-600'),type:\"password\",placeholder:\"Password\",onChange:handleChange,name:\"password\",value:formData.password})]}),/*#__PURE__*/_jsx(Button,{text:\"Log In\",onClick:submit,size:\"sm\",className:\"mt-8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-600 mt-4\",children:globalState.auth.failMessage})]});};export default LogInModalContent;","map":{"version":3,"names":["React","useState","useContext","useEffect","Button","Subtitle","AppContext","useNavigate","ModalContext","LogInModalContent","navigate","closeModal","globalState","dispatch","email","password","formData","setFormData","handleChange","event","prevFormData","target","name","value","handleKeyDown","code","preventDefault","submit","type","loginToken","auth","failMessage"],"sources":["V:/financial-picture/financial-picture/src/components/molecules/Modal/LogInModalContent.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\nimport Button from '../../atoms/Button'\nimport Subtitle from '../../atoms/Subtitle'\nimport { AppContext } from '../../../contexts/AppContext'\nimport { useNavigate } from 'react-router-dom'\nimport { ModalContext } from '../../../contexts/ModalContext'\n\nconst LogInModalContent = () => {\n  let navigate = useNavigate()\n\n  const { closeModal } = useContext(ModalContext)\n  const { globalState, dispatch } = useContext(AppContext)\n  const [formData, setFormData] = useState({ email: '', password: '' })\n\n  function handleChange(event) {\n    setFormData((prevFormData) => {\n      return {\n        ...prevFormData,\n        [event.target.name]: event.target.value\n      }\n    })\n  }\n\n  function handleKeyDown(event) {\n    if (event.code === 'Enter' || event.code === 'NumpadEnter') {\n      event.preventDefault()\n      submit()\n    }\n  }\n\n  const submit = () => {\n    dispatch({ type: 'LOG_IN', email: formData.email, password: formData.password })\n  }\n\n  useEffect(() => {\n    if (globalState.loginToken) {\n      closeModal()\n      navigate('/dashboard')\n    }\n  }, [globalState.loginToken])\n\n  return (\n    <div className='w-72 h-80 flex flex-col pt-6'>\n      <Subtitle>Log In</Subtitle>\n      <form onKeyDown={handleKeyDown} className='flex flex-col mt-4'>\n        <input\n          className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 \n          ${!globalState.auth.failMessage ? 'border-white' : 'border-rose-600'}`}\n          type='email'\n          placeholder='Email Address'\n          onChange={handleChange}\n          name='email'\n          value={formData.email}\n        />\n        <input\n          className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 \n          ${!globalState.auth.failMessage ? 'border-white' : 'border-rose-600'}`}\n          type='password'\n          placeholder='Password'\n          onChange={handleChange}\n          name='password'\n          value={formData.password}\n        />\n      </form>\n      <Button text='Log In' onClick={submit} size='sm' className='mt-8' />\n      <div className='text-rose-600 mt-4'>{globalState.auth.failMessage}</div>\n    </div>\n  )\n}\n\nexport default LogInModalContent\n"],"mappings":"qjBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,OAAP,KAAmB,oBAAnB,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,OAASC,UAAT,KAA2B,8BAA3B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,YAAT,KAA6B,gCAA7B,C,wFAEA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAIC,SAAQ,CAAGH,WAAW,EAA1B,CAEA,gBAAuBL,UAAU,CAACM,YAAD,CAAjC,CAAQG,UAAR,aAAQA,UAAR,CACA,iBAAkCT,UAAU,CAACI,UAAD,CAA5C,CAAQM,WAAR,cAAQA,WAAR,CAAqBC,QAArB,cAAqBA,QAArB,CACA,cAAgCZ,QAAQ,CAAC,CAAEa,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAEA,QAASC,aAAT,CAAsBC,KAAtB,CAA6B,CAC3BF,WAAW,CAAC,SAACG,YAAD,CAAkB,CAC5B,sCACKA,YADL,wBAEGD,KAAK,CAACE,MAAN,CAAaC,IAFhB,CAEuBH,KAAK,CAACE,MAAN,CAAaE,KAFpC,GAID,CALU,CAAX,CAMD,CAED,QAASC,cAAT,CAAuBL,KAAvB,CAA8B,CAC5B,GAAIA,KAAK,CAACM,IAAN,GAAe,OAAf,EAA0BN,KAAK,CAACM,IAAN,GAAe,aAA7C,CAA4D,CAC1DN,KAAK,CAACO,cAAN,GACAC,MAAM,GACP,CACF,CAED,GAAMA,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBd,QAAQ,CAAC,CAAEe,IAAI,CAAE,QAAR,CAAkBd,KAAK,CAAEE,QAAQ,CAACF,KAAlC,CAAyCC,QAAQ,CAAEC,QAAQ,CAACD,QAA5D,CAAD,CAAR,CACD,CAFD,CAIAZ,SAAS,CAAC,UAAM,CACd,GAAIS,WAAW,CAACiB,UAAhB,CAA4B,CAC1BlB,UAAU,GACVD,QAAQ,CAAC,YAAD,CAAR,CACD,CACF,CALQ,CAKN,CAACE,WAAW,CAACiB,UAAb,CALM,CAAT,CAOA,mBACE,aAAK,SAAS,CAAC,8BAAf,wBACE,KAAC,QAAD,qBADF,cAEE,cAAM,SAAS,CAAEL,aAAjB,CAAgC,SAAS,CAAC,oBAA1C,wBACE,cACE,SAAS,oEACP,CAACZ,WAAW,CAACkB,IAAZ,CAAiBC,WAAlB,CAAgC,cAAhC,CAAiD,iBAD1C,CADX,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,eAJd,CAKE,QAAQ,CAAEb,YALZ,CAME,IAAI,CAAC,OANP,CAOE,KAAK,CAAEF,QAAQ,CAACF,KAPlB,EADF,cAUE,cACE,SAAS,oEACP,CAACF,WAAW,CAACkB,IAAZ,CAAiBC,WAAlB,CAAgC,cAAhC,CAAiD,iBAD1C,CADX,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,CAKE,QAAQ,CAAEb,YALZ,CAME,IAAI,CAAC,UANP,CAOE,KAAK,CAAEF,QAAQ,CAACD,QAPlB,EAVF,GAFF,cAsBE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEY,MAA/B,CAAuC,IAAI,CAAC,IAA5C,CAAiD,SAAS,CAAC,MAA3D,EAtBF,cAuBE,YAAK,SAAS,CAAC,oBAAf,UAAqCf,WAAW,CAACkB,IAAZ,CAAiBC,WAAtD,EAvBF,GADF,CA2BD,CA7DD,CA+DA,cAAetB,kBAAf"},"metadata":{},"sourceType":"module"}