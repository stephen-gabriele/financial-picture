{"ast":null,"code":"import _toConsumableArray from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{AppContext}from'../../../contexts/AppContext';import TagCard from'./TagCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TagContainer=function TagContainer(_ref){var transactionIndex=_ref.transactionIndex,tags=_ref.tags,setTransactionData=_ref.setTransactionData;var _useState=useState({value:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useContext=useContext(AppContext),globalState=_useContext.globalState,dispatch=_useContext.dispatch;function handleInputChange(event){setInput(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},_defineProperty({},event.target.name,event.target.value));});}function inputIsValid(){return input.value.match(/^[A-Za-z]+$/i)&&input.value.length<11&&input.value.length>0&&!tags.includes(input.value);}function submit(){if(inputIsValid()){addTag(transactionIndex,input.value);setInput(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},{value:''});});}}function deleteTag(transactionIndex,tagIndex){setTransactionData(function(prevTransactionData){var newTransactionData=_toConsumableArray(prevTransactionData);newTransactionData[transactionIndex].tags.splice(tagIndex,1);return newTransactionData;});}function addTag(transactionIndex,tag){if(!globalState.transactionTags.includes(tag)){dispatch({type:'ADD_TRANSACTION_TAG',tag:tag});}setTransactionData(function(prevTransactionData){var newTransactionData=_toConsumableArray(prevTransactionData);newTransactionData[transactionIndex].tags.push(tag);return newTransactionData;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-1 grid-cols-2\",children:[tags.map(function(tag,tagIndex){return/*#__PURE__*/_jsx(TagCard,{transactionIndex:transactionIndex,deleteTag:deleteTag,tagIndex:tagIndex,tag:tag},tag);}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"w-2/3 text-xs rounded-md outline-0 border \".concat(input.value.length===0||inputIsValid()?'border-white':'border-rose-600'),type:\"text\",placeholder:\"Add Tag\",onChange:handleInputChange,name:\"value\",value:input.value}),/*#__PURE__*/_jsx(\"button\",{onClick:submit,className:'hover:scale-105 transition ease-in-out delay-100 w-1/3 bg-slate-200 rounded-md text-sm',children:\"Add\"})]})]});};export default TagContainer;","map":{"version":3,"names":["React","useState","useContext","AppContext","TagCard","TagContainer","transactionIndex","tags","setTransactionData","value","input","setInput","globalState","dispatch","handleInputChange","event","prevInput","target","name","inputIsValid","match","length","includes","submit","addTag","deleteTag","tagIndex","prevTransactionData","newTransactionData","splice","tag","transactionTags","type","push","map"],"sources":["V:/financial-picture/financial-picture/src/components/molecules/TransactionChart/TagContainer.js"],"sourcesContent":["import React, { useState, useContext } from 'react'\nimport { AppContext } from '../../../contexts/AppContext'\nimport TagCard from './TagCard'\n\nconst TagContainer = ({ transactionIndex, tags, setTransactionData }) => {\n  const [input, setInput] = useState({ value: '' })\n  const { globalState, dispatch } = useContext(AppContext)\n  function handleInputChange(event) {\n    setInput((prevInput) => {\n      return {\n        ...prevInput,\n        [event.target.name]: event.target.value\n      }\n    })\n  }\n\n  function inputIsValid() {\n    return (\n      input.value.match(/^[A-Za-z]+$/i) &&\n      input.value.length < 11 &&\n      input.value.length > 0 &&\n      !tags.includes(input.value)\n    )\n  }\n\n  function submit() {\n    if (inputIsValid()) {\n      addTag(transactionIndex, input.value)\n      setInput((prevInput) => {\n        return {\n          ...prevInput,\n          value: ''\n        }\n      })\n    }\n  }\n\n  function deleteTag(transactionIndex, tagIndex) {\n    setTransactionData((prevTransactionData) => {\n      let newTransactionData = [...prevTransactionData]\n      newTransactionData[transactionIndex].tags.splice(tagIndex, 1)\n      return newTransactionData\n    })\n  }\n\n  function addTag(transactionIndex, tag) {\n    if (!globalState.transactionTags.includes(tag)) {\n      dispatch({ type: 'ADD_TRANSACTION_TAG', tag: tag })\n    }\n    setTransactionData((prevTransactionData) => {\n      let newTransactionData = [...prevTransactionData]\n      newTransactionData[transactionIndex].tags.push(tag)\n      return newTransactionData\n    })\n  }\n\n  return (\n    <div className='grid gap-1 grid-cols-2'>\n      {tags.map((tag, tagIndex) => (\n        <TagCard\n          key={tag}\n          transactionIndex={transactionIndex}\n          deleteTag={deleteTag}\n          tagIndex={tagIndex}\n          tag={tag}\n        />\n      ))}\n      <div className='flex'>\n        <input\n          className={`w-2/3 text-xs rounded-md outline-0 border ${\n            input.value.length === 0 || inputIsValid() ? 'border-white' : 'border-rose-600'\n          }`}\n          type='text'\n          placeholder='Add Tag'\n          onChange={handleInputChange}\n          name='value'\n          value={input.value}\n        />\n        <button\n          onClick={submit}\n          className={\n            'hover:scale-105 transition ease-in-out delay-100 w-1/3 bg-slate-200 rounded-md text-sm'\n          }\n        >\n          Add\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default TagContainer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}