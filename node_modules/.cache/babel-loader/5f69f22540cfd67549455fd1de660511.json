{"ast":null,"code":"import _defineProperty from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"V:/financial-picture/financial-picture/.yarn/cache/@babel-runtime-npm-7.19.0-86b37fbb72-fa69c351bb.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from'react';import Button from'../../atoms/Button';import Subtitle from'../../atoms/Subtitle';import{useNavigate}from'react-router-dom';import{ModalContext}from'../../../contexts/ModalContext';import{AppContext}from'../../../contexts/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpModalContent=function SignUpModalContent(){var navigate=useNavigate();var _useState=useState({firstName:'',lastName:'',email:'',password:'',confirmPassword:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useContext=useContext(AppContext),globalState=_useContext.globalState,dispatch=_useContext.dispatch;var _useContext2=useContext(ModalContext),closeModal=_useContext2.closeModal;var _useState3=useState({email:true,firstName:true,lastName:true,password:true,confirmPassword:true}),_useState4=_slicedToArray(_useState3,2),valid=_useState4[0],setValid=_useState4[1];useEffect(function(){if(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(formData.email))setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{email:true});});if(formData.firstName.match(/^[A-Za-z]+$/))setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{firstName:true});});if(formData.lastName.match(/^[A-Za-z]+$/))setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{lastName:true});});if(formData.password.length>6)setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{password:true});});if(formData.confirmPassword==formData.password&&formData.confirmPassword.length>6)setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{confirmPassword:true});});},[formData]);function handleChange(event){setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},event.target.name,event.target.value));});}function handleKeyDown(event){if(event.code==='Enter'||event.code==='NumpadEnter'){event.preventDefault();submit();}}var validateInputs=function validateInputs(){var submitReady=true;if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(formData.email)||formData.email.length==0){setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{email:false});});submitReady=false;}if(!formData.firstName.match(/^[A-Za-z]+$/)||formData.firstName.length==0){setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{firstName:false});});submitReady=false;}if(!formData.lastName.match(/^[A-Za-z]+$/)){setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{lastName:false});});submitReady=false;}if(formData.password.length<7){setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{password:false});});submitReady=false;}if(formData.confirmPassword!==formData.password||formData.confirmPassword.length==0){setValid(function(prevValid){return _objectSpread(_objectSpread({},prevValid),{},{confirmPassword:false});});submitReady=false;}return submitReady;};var submit=function submit(){if(validateInputs()){dispatch({type:'SIGN_UP',email:formData.email,firstName:formData.firstName,lastName:formData.lastName,password:formData.password});}};useEffect(function(){if(globalState.loginToken){closeModal();navigate('/dashboard');}},[globalState.loginToken]);if(globalState.loginToken)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"w-72 min-h-[32rem] pt-4\",children:[/*#__PURE__*/_jsx(Subtitle,{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col mt-6\",children:[/*#__PURE__*/_jsxs(\"form\",{onKeyDown:handleKeyDown,className:\"flex flex-col \",children:[/*#__PURE__*/_jsx(\"input\",{className:\"px-1 py-2 rounded-md border-2 outline-0 \".concat(valid.firstName?'border-white':'border-rose-600'),type:\"text\",placeholder:\"First Name\",onChange:handleChange,name:\"firstName\",value:formData.firstName}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \".concat(valid.lastName?'border-white':'border-rose-600'),type:\"text\",placeholder:\"Last Name\",onChange:handleChange,name:\"lastName\",value:formData.lastName}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \".concat(valid.email?'border-white':'border-rose-600'),type:\"email\",placeholder:\"Email Address\",onChange:handleChange,name:\"email\",value:formData.email}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \".concat(valid.password?'border-white':'border-2 border-rose-600'),type:\"password\",placeholder:\"Password (at least 7 characters)\",onChange:handleChange,name:\"password\",value:formData.password}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 px-1 py-2 rounded-md border-2 outline-0 \".concat(valid.confirmPassword?'border-white':'border-2 border-rose-600'),type:\"password\",placeholder:\"Confirm Password\",onChange:handleChange,name:\"confirmPassword\",value:formData.confirmPassword})]}),/*#__PURE__*/_jsx(Button,{text:\"Sign Up\",size:\"sm\",onClick:submit,className:\"mt-8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-600 mt-4\",children:globalState.auth.failMessage})]})]});};export default SignUpModalContent;","map":{"version":3,"names":["React","useEffect","useState","useContext","Button","Subtitle","useNavigate","ModalContext","AppContext","SignUpModalContent","navigate","firstName","lastName","email","password","confirmPassword","formData","setFormData","globalState","dispatch","closeModal","valid","setValid","test","prevValid","match","length","handleChange","event","prevFormData","target","name","value","handleKeyDown","code","preventDefault","submit","validateInputs","submitReady","type","loginToken","auth","failMessage"],"sources":["V:/financial-picture/financial-picture/src/components/molecules/Modal/SignUpModalContent.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\nimport Button from '../../atoms/Button'\nimport Subtitle from '../../atoms/Subtitle'\nimport { useNavigate } from 'react-router-dom'\nimport { ModalContext } from '../../../contexts/ModalContext'\nimport { AppContext } from '../../../contexts/AppContext'\n\nconst SignUpModalContent = () => {\n  let navigate = useNavigate()\n\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  })\n  const { globalState, dispatch } = useContext(AppContext)\n  const { closeModal } = useContext(ModalContext)\n  const [valid, setValid] = useState({\n    email: true,\n    firstName: true,\n    lastName: true,\n    password: true,\n    confirmPassword: true\n  })\n\n  useEffect(() => {\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(formData.email))\n      setValid((prevValid) => ({ ...prevValid, email: true }))\n    if (formData.firstName.match(/^[A-Za-z]+$/))\n      setValid((prevValid) => ({ ...prevValid, firstName: true }))\n    if (formData.lastName.match(/^[A-Za-z]+$/))\n      setValid((prevValid) => ({ ...prevValid, lastName: true }))\n    if (formData.password.length > 6) setValid((prevValid) => ({ ...prevValid, password: true }))\n    if (formData.confirmPassword == formData.password && formData.confirmPassword.length > 6)\n      setValid((prevValid) => ({ ...prevValid, confirmPassword: true }))\n  }, [formData])\n\n  function handleChange(event) {\n    setFormData((prevFormData) => {\n      return {\n        ...prevFormData,\n        [event.target.name]: event.target.value\n      }\n    })\n  }\n\n  function handleKeyDown(event) {\n    if (event.code === 'Enter' || event.code === 'NumpadEnter') {\n      event.preventDefault()\n      submit()\n    }\n  }\n\n  const validateInputs = () => {\n    let submitReady = true\n\n    if (\n      !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(formData.email) ||\n      formData.email.length == 0\n    ) {\n      setValid((prevValid) => ({ ...prevValid, email: false }))\n      submitReady = false\n    }\n    if (!formData.firstName.match(/^[A-Za-z]+$/) || formData.firstName.length == 0) {\n      setValid((prevValid) => ({ ...prevValid, firstName: false }))\n      submitReady = false\n    }\n    if (!formData.lastName.match(/^[A-Za-z]+$/)) {\n      setValid((prevValid) => ({ ...prevValid, lastName: false }))\n      submitReady = false\n    }\n    if (formData.password.length < 7) {\n      setValid((prevValid) => ({ ...prevValid, password: false }))\n      submitReady = false\n    }\n    if (formData.confirmPassword !== formData.password || formData.confirmPassword.length == 0) {\n      setValid((prevValid) => ({ ...prevValid, confirmPassword: false }))\n      submitReady = false\n    }\n    return submitReady\n  }\n\n  const submit = () => {\n    if (validateInputs()) {\n      dispatch({\n        type: 'SIGN_UP',\n        email: formData.email,\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        password: formData.password\n      })\n    }\n  }\n\n  useEffect(() => {\n    if (globalState.loginToken) {\n      closeModal()\n      navigate('/dashboard')\n    }\n  }, [globalState.loginToken])\n\n  if (globalState.loginToken) return null\n\n  return (\n    <div className='w-72 min-h-[32rem] pt-4'>\n      <Subtitle>Sign Up</Subtitle>\n      <div className='flex flex-col mt-6'>\n        <form onKeyDown={handleKeyDown} className='flex flex-col '>\n          <input\n            className={`px-1 py-2 rounded-md border-2 outline-0 ${\n              valid.firstName ? 'border-white' : 'border-rose-600'\n            }`}\n            type='text'\n            placeholder='First Name'\n            onChange={handleChange}\n            name='firstName'\n            value={formData.firstName}\n          />\n          <input\n            className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 ${\n              valid.lastName ? 'border-white' : 'border-rose-600'\n            }`}\n            type='text'\n            placeholder='Last Name'\n            onChange={handleChange}\n            name='lastName'\n            value={formData.lastName}\n          />\n          <input\n            className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 ${\n              valid.email ? 'border-white' : 'border-rose-600'\n            }`}\n            type='email'\n            placeholder='Email Address'\n            onChange={handleChange}\n            name='email'\n            value={formData.email}\n          />\n          <input\n            className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 ${\n              valid.password ? 'border-white' : 'border-2 border-rose-600'\n            }`}\n            type='password'\n            placeholder='Password (at least 7 characters)'\n            onChange={handleChange}\n            name='password'\n            value={formData.password}\n          />\n          <input\n            className={`mt-4 px-1 py-2 rounded-md border-2 outline-0 ${\n              valid.confirmPassword ? 'border-white' : 'border-2 border-rose-600'\n            }`}\n            type='password'\n            placeholder='Confirm Password'\n            onChange={handleChange}\n            name='confirmPassword'\n            value={formData.confirmPassword}\n          />\n        </form>\n        <Button text='Sign Up' size='sm' onClick={submit} className='mt-8' />\n        <div className='text-rose-600 mt-4'>{globalState.auth.failMessage}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default SignUpModalContent\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}